# Customiser la TEI et générer le schéma de l'encodage

## 1- Méthodologie pour customiser la TEI et générer le schéma

**Plusieurs solutions :**
- Version 1 roma (ancien) : https://roma.tei-c.org/
- Version 2 roma (nouveau) : https://romabeta.tei-c.org/
- Odd by example (disponible sur le logiciel Oxygen)

**Méthode choisie :**
- **Version 1 roma (ancien)** : 
  - étape 1 : choix de la méthode par suppression
  - étape 2 : configuration des paramètres
  - étape 3 : choix de la langue
  - étape 4 : suppression des modules inutiles un par un 
  - étape 5 : sélection des éléments module par module 
  - étape 6 : sélection des attributs élément par élément 
  - étape 7 : paramétrer les attributs (optionnel/ obligatoire/ liste fermée). **N.B :** l'ensemble des attributs est optionnel, certains attributs ont une liste de valeurs spécifiées
  - étape 8 : générer le schéma RelaxNG et l'ODD.

**Modifications effectuées :**
- Modifications effectuées à la main dans le schéma directement, suite à des problèmes avec Roma : 
  - meeting @ana
  - orgName
  - text @ana
  - div @type
  - u @ana

**Améliorations possibles :**
- Ajouter des listes de valeurs fermées pour certains attributs
- Rendre obligatoire certains attributs
- Spécifier l'enchaînement de certains éléments
- Enlever le module "tagdocs" si nécessaire

<hr/>


## 2- Éléments et attributs retenus par module

| **core**  | *Attributs autorisés*                                                                                                                 | **textstructure** | *Attributs autorisés*                                                                                                                       | **header**      | *Attributs autorisés*                                               | **corpus**  | *Attributs autorisés* | **figures** | *Attributs autorisés*                                            | **linking** | *Attributs autorisés* | **namesdate** | *Attributs autorisés*                                                              | **spoken** | *Attributs autorisés*                                       | **transcr** | *Attributs autorisés* | **analysis** | *Attributs autorisés*                        |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------|-----------------|---------------------------------------------------------------------|-------------|-----------------------|-------------|------------------------------------------------------------------|-------------|-----------------------|---------------|------------------------------------------------------------------------------------|------------|-------------------------------------------------------------|-------------|-----------------------|--------------|----------------------------------------------|
| author    | @ref --> optionnel                                                                                                                    | back              |                                                                                                                                             | appInfo         |                                                                     | setting     |                       | cell        | @role --> optionnel --> label/ data                              | seg         | @xml:id --> optionnel | country       | @key --> optionnel                                                                 | incident   |                                                             | facsimile   |                       |              | pour que @ana fonctionne, ajout de ce module |
| biblScope | @unit --> optionnel                                                                                                                   | body              |                                                                                                                                             | application     | @version --> optionnel  @ident --> optionnel                        | settingDesc |                       | row         |                                                                  | standOff    |                       | event         | @from --> optionnel                                                                | u          | @who --> optionnel @xml:id --> optionnel @ana --> optionnel | surface     |                       |              |                                              |
| date      | @when --> optionnel @from --> optionnel @to --> optionnel                                                                             | div               | @type --> optionnel  @corresp --> optionnel  @xml:id --> optionnel                                                                          | authority       |                                                                     | particDesc  |                       | table       | @rows --> optionnel  @cols --> optionnel  @corresp --> optionnel |             |                       | listPerson    |                                                                                    |            |                                                             |             |                       |              |                                              |
| desc      | @xml:lang --> optionnel --> en/ fr                                                                                                    | floatingText      |                                                                                                                                             | availability    | @status --> optionnel @n --> optionnel                              |             |                       |             |                                                                  |             |                       | listPlace     |                                                                                    |            |                                                             |             |                       |              |                                              |
| head      |                                                                                                                                       | signed            |                                                                                                                                             | biblFull        |                                                                     |             |                       |             |                                                                  |             |                       | listOrg       |                                                                                    |            |                                                             |             |                       |              |                                              |
| item      | @xml:id --> optionnel                                                                                                                 | TEI               | @xmlns --> absent de roma @xml:id --> optionnel @xml:lang --> optionnel --> en/ fr @xml:base --> optionnel (pour que le schéma soit valide) | change          | @when --> optionnel                                                 |             |                       |             |                                                                  |             |                       | location      |                                                                                    |            |                                                             |             |                       |              |                                              |
| label     |                                                                                                                                       | text              | @ana --> optionnel                                                                                                                          | classDecl       |                                                                     |             |                       |             |                                                                  |             |                       | org           | @xml:id --> optionnel @role --> optionnel  @xml:lang --> optionnel                 |            |                                                             |             |                       |              |                                              |
| list      |                                                                                                                                       |                   |                                                                                                                                             | correction      |                                                                     |             |                       |             |                                                                  |             |                       | orgName       | @xml:lang --> optionnel --> en/ fr  @ref --> optionnel (@full inclus sinon erreur) |            |                                                             |             |                       |              |                                              |
| measure   | @unit --> optionnel @quantity --> optionnel @type --> optionnel --> nbvoters/ majority/ ayes/ noes @xml:lang --> en/ fr               |                   |                                                                                                                                             | distributor     | @facs --> optionnel                                                 |             |                       |             |                                                                  |             |                       | person        | @xml:id --> optionnel                                                              |            |                                                             |             |                       |              |                                              |
| meeting   | @n --> optionnel @ana --> optionnel                                                                                                   |                   |                                                                                                                                             | edition         |                                                                     |             |                       |             |                                                                  |             |                       | persName      | @ref --> optionnel                                                                 |            |                                                             |             |                       |              |                                              |
| name      | @type --> optionnel  @key --> optionnel                                                                                               |                   |                                                                                                                                             | editionStmt     |                                                                     |             |                       |             |                                                                  |             |                       | place         | @xml:id --> optionnel                                                              |            |                                                             |             |                       |              |                                              |
| note      | @type --> optionnel --> opening/ comment/ closing/ result/ voterslist/ numbersannounced  @xml:id --> optionnel @corresp --> optionnel |                   |                                                                                                                                             | editorialDecl   |                                                                     |             |                       |             |                                                                  |             |                       | placeName     | @ref --> optionnel                                                                 |            |                                                             |             |                       |              |                                              |
| num       |                                                                                                                                       |                   |                                                                                                                                             | encodingDesc    |                                                                     |             |                       |             |                                                                  |             |                       | roleName      | @ref --> optionnel                                                                 |            |                                                             |             |                       |              |                                              |
| p         | @xml:lang --> optionnel --> en/ fr                                                                                                    |                   |                                                                                                                                             | extent          |                                                                     |             |                       |             |                                                                  |             |                       | settlement    | @type --> optionnel                                                                |            |                                                             |             |                       |              |                                              |
| pb        | @n --> optionnel                                                                                                                      |                   |                                                                                                                                             | fileDesc        |                                                                     |             |                       |             |                                                                  |             |                       | forename      |                                                                                    |            |                                                             |             |                       |              |                                              |
| publisher | @xml:lang --> optionnel --> en/ fr                                                                                                    |                   |                                                                                                                                             | funder          |                                                                     |             |                       |             |                                                                  |             |                       | surname       |                                                                                    |            |                                                             |             |                       |              |                                              |
| pubPlace  |                                                                                                                                       |                   |                                                                                                                                             | hyphenation     |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| quote     |                                                                                                                                       |                   |                                                                                                                                             | idno            | @type --> optionnel @subtype --> optionnel                          |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| ref       | @target --> optionnel                                                                                                                 |                   |                                                                                                                                             | language        | @ident --> optionnel --> en/ fr  @xml:lang --> optionnel --> en/ fr |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| resp      | @xml:lang --> optionnel --> en/ fr                                                                                                    |                   |                                                                                                                                             | langUsage       |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| respStmt  |                                                                                                                                       |                   |                                                                                                                                             | licence         | @target --> optionnel @xml:lang --> optionnel --> en/ fr            |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| teiCorpus | @xmlns --> absent de roma  @xml:id --> optionnel @xml:lang --> optionnel --> en/ fr                                                   |                   |                                                                                                                                             | namespace       | @name --> optionnel                                                 |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| term      |                                                                                                                                       |                   |                                                                                                                                             | profileDesc     |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| time      | @when --> optionnel                                                                                                                   |                   |                                                                                                                                             | projectDesc     |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| title     | @type --> optionnel --> main/ sub  @xml:lang --> optionnel --> en/ fr                                                                 |                   |                                                                                                                                             | publicationStmt |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| ptr       | @type --> optionnel @target --> optionnel                                                                                             |                   |                                                                                                                                             | quotation       |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
| graphic   |                                                                                                                                       |                   |                                                                                                                                             | revisionDesc    |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | segmentation    |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | seriesStmt      |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | sourceDesc      |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | tagsDecl        |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | tagUsage        | @gi --> optionnel  @occurs --> optionnel                            |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | taxonomy        | @xml:id --> optionnel                                               |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | teiHeader       |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | titleStmt       |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | category        | @xml:id --> optionnel                                               |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | catDesc         | @xml:lang --> optionnel en/ fr                                      |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | textClass       |                                                                     |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |
|           |                                                                                                                                       |                   |                                                                                                                                             | catRef          | @scheme --> optionnel @target --> optionnel                         |             |                       |             |                                                                  |             |                       |               |                                                                                    |            |                                                             |             |                       |              |                                              |



## 3- Liens importants

**Liste des modules** : 
- https://tei-c.org/release/doc/tei-p5-doc/en/html/ST.html

**Tutos** :
- Version 1 roma (ancien) : https://www.youtube.com/watch?v=Idpg572uf0A 
- Version 2 roma (nouveau) : https://vimeo.com/373995865 
- https://tei-c.org/guidelines/customization/getting-started-with-p5-odds/
